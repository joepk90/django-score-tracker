From python:3.9

ARG SECRET_KEY='TESTING_1234'

COPY ./Pipfile .
COPY ./Pipfile.lock .
RUN pip install pipenv==2023.2.18
# RUN pipenv lock -d # generate Pifile.lock
RUN pipenv requirements > requirements-dev.txt --dev
RUN pip install -r requirements-dev.txt

# COPY: SRC : DEST (local -> container)
COPY ./score_tracker ./score_tracker/

# make score_tracker
WORKDIR /score_tracker

RUN pytest ./